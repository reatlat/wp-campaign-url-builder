"use strict";function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function i(a,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}return function(a,n,e){return n&&i(a.prototype,n),e&&i(a,e),a}}();jQuery(function(i){i(document).ready(function(){var a=function(){function a(){_classCallCheck(this,a),this.location=window.location,this.plugin_name="Campaign-URL-Builder",this.ajax_url=REATLAT_CUB_APP.AJAXURL,this.shortcode_action=REATLAT_CUB_APP.SC_ACTION,this.debug_js=REATLAT_CUB_APP.DEBUG_JS,this._init(this)}return _createClass(a,[{key:"_init",value:function(){this._debugLog("debug log activated"),this._is_shortcode_form_active()&&(this._triggers(this),this._copyToClipboard(),this._tippy())}},{key:"_formValidator",value:function(){i("#reatlat_cub_campaign-form").validate({rules:{campaign_page:{required:!0,url:!0},campaign_name:{required:!0}}})}},{key:"_copyToClipboard",value:function(){this._debugLog("copy to clipboard activated"),new window[REATLAT_CUB_APP.CLIPBOARD]("[data-copy]")}},{key:"_triggers",value:function(a){i(".js-reatlat_cub--create-link").on("click",function(){return a._debugLog("trigger .js-reatlat_cub--create-link"),a._formAjaxPost(a),!1})}},{key:"_tippy",value:function(){"function"==typeof tippy&&tippy(".cub-tippy",{trigger:"click",placement:"left"})}},{key:"_formAjaxPost",value:function(e){9<i('input[name="campaign_page"]').val().length&&i('input[name="campaign_page"]').val().includes("//")&&"http"===i('input[name="campaign_page"]').val().slice(0,4)&&1<i('input[name="campaign_name"]').val().length?i.ajax({type:"POST",url:e.ajax_url,data:{action:e.shortcode_action,campaign_page:i('input[name="campaign_page"]').val(),campaign_source:i('input[name="campaign_source"]').val(),campaign_medium:i('input[name="campaign_medium"]').val(),campaign_name:i('input[name="campaign_name"]').val(),campaign_term:i('input[name="campaign_term"]').val(),campaign_content:i('input[name="campaign_content"]').val(),custom_key_1:i('input[name="custom_key_1"]').val(),custom_value_1:i('input[name="custom_value_1"]').val(),custom_key_2:i('input[name="custom_key_2"]').val(),custom_value_2:i('input[name="custom_value_2"]').val(),custom_key_3:i('input[name="custom_key_3"]').val(),custom_value_3:i('input[name="custom_value_3"]').val(),"Campaign-URL-Builder__submit_manage_links--nonce":i('input[name="Campaign-URL-Builder__submit_manage_links--nonce"]').val(),submit_manage_links:i('input[name="submit_manage_links"]').val()}}).done(function(a){if(e._debugLog("AJAX Success, respond:",a),a.result){i(".Campaign-URL-Builder .notification--success").show(),setTimeout(function(){i(".Campaign-URL-Builder .notification--success").fadeOut("slow")},450);var n=a.campaign_short_link;i(".Campaign-URL-Builder--form-wrapper__form").slideUp(),i(".link-container--result").addClass("result-success"),i(".Campaign-URL-Builder--form-wrapper__link-container .link-container--result__link").html(n),i(".link-container--result__copy").attr("data-clipboard-text",n)}else i(".Campaign-URL-Builder .notification--error").show(),setTimeout(function(){i(".Campaign-URL-Builder .notification--error").fadeOut("slow")},1e3);return!1}):e._debugLog("Something wrong, looks like one of important parameters empty ðŸ¤”")}},{key:"_debugLog",value:function(){if(this.debug_js){for(var a,n=arguments.length,e=Array(n),i=0;i<n;i++)e[i]=arguments[i];(a=console).log.apply(a,["ðŸ¦„ "+this.plugin_name+" =>\n"].concat(e))}}},{key:"_is_shortcode_form_active",value:function(){return Boolean(i(".Campaign-URL-Builder").length)}}]),a}();window["Campaign-URL-Builder"]=new a})});
//# sourceMappingURL=reatlat_cub-public.min.js.map